<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Request Page</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="stylesheet" th:href="@{/css/apprentice.css}" />

</head>

<body>
<!-- Overlay -->
<div id="popupOverlay2" style="
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.5);
    z-index: 9999;
"></div>

<!-- Popup Box -->
<div id="popupContainer2" style="
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    z-index: 10000;
    text-align: center;
    max-width: 90%;
    width: 400px;
">
    <p id="popupMessage" style="margin-bottom: 20px; font-size: 18px;"></p>
    <button id="acceptBtn" style="
        background: green;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        margin-right: 10px;
        cursor: pointer;
    ">
        Continue
    </button>
    <button id="rejectBtn" style="
        background: red;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    ">
        Return
    </button>
</div>

<!-- Header einbinden -->
<div th:replace="~{fragments/header_apprentice :: header}"></div>

<main>
    <!-- UPDATED: Centered black title with a red line -->
    <div class="page-title-container">
        <h1>Open Requests</h1>
    </div>

    <!-- Aufgabenübersicht (Container for the original cards) -->
    <div id="task-container" class="task-grid"></div>

    <!-- Pop-up für Details (Reverted to the original design) -->
    <div id="popup" class="popup hidden">
        <div class="popup-content">
            <h2 id="popup-title" class="popup-heading">Titel</h2>
            <div class="red-underline"></div>

            <div class="popup-layout">
                <div class="popup-left">
                    <div class="popup-row"><span>Name</span><span id="popup-name"></span></div>
                    <div class="popup-row"><span>GPN</span><span id="popup-gpn"></span></div>
                    <div class="popup-row"><span>Deadline</span><span id="popup-deadline"></span></div>
                    <div class="popup-row"><span>Channel</span><span id="popup-channel"></span></div>
                    <div class="popup-row"><span>Content Type</span><span id="popup-type"></span></div>
                    <div class="popup-row"><span>Max File Size</span><span id="popup-format"></span></div>
                    <div class="popup-row"><span>Target Audience</span><span id="popup-target"></span></div>
                    <div class="popup-row"><span>Budget</span><span id="popup-budget"></span></div>
                    <div class="popup-row"><span>Handover</span><span id="popup-handover"></span></div>
                </div>

                <div class="popup-right">
                    <div class="popup-section">
                        <strong>Description</strong>
                        <p id="popup-description"></p>
                    </div>
                    <div class="popup-section">
                        <strong>Specific Requirements</strong>
                        <p id="popup-other"></p>
                    </div>
                </div>
            </div>

            <div class="popup-buttons">
                <button onclick="acceptTask()">Accept</button>
                <button onclick="showRejectConfirm()">Reject</button>
            </div>
        </div>
    </div>

</main>

<!-- Footer einbinden -->
<div th:replace="~{fragments/footer :: footer}"></div>

<script defer th:src="@{/js/request.js}"></script>

</body>
</html>