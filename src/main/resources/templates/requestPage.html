<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Request Page</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="stylesheet" th:href="@{/css/apprentice.css}" />
    <script th:src="@{/js/request.js}" defer ></script>
    <script th:src="@{/js/script.js}" defer></script>
</head>

<body>

<!-- Header einbinden -->
<div th:replace="~{fragments/header_apprentice :: header}"></div>

<main>
    <div class="page-title-container">
        <h1>Open Requests</h1>
    </div>

    <div id="task-container" class="task-grid"></div>

    <!-- Popup -->
    <div id="popup" class="popup hidden">
        <div class="popup-content">
            <h2 id="popup-title" class="popup-heading">Titel</h2>
            <div class="red-underline"></div>

            <div class="popup-layout">
                <!-- Linke Spalte -->
                <div class="popup-left">
                    <div class="popup-row"><span>Name</span><span id="popup-name"></span></div>
                    <div class="popup-row"><span>GPN</span><span id="popup-gpn"></span></div>
                    <div class="popup-row"><span>Deadline</span><span id="popup-deadline"></span></div>
                    <div class="popup-row"><span>Channel</span><span id="popup-channel"></span></div>
                    <div class="popup-row"><span>Content Type</span><span id="popup-type"></span></div>
                    <div class="popup-row"><span>Max File Size</span><span id="popup-format"></span></div>
                    <div class="popup-row"><span>Target Audience</span><span id="popup-target"></span></div>
                    <div class="popup-row"><span>Budget</span><span id="popup-budget"></span></div>
                    <div class="popup-row"><span>Handover</span><span id="popup-handover"></span></div>
                </div>

                <!-- Rechte Spalte â€“ Vertikal gestapelt -->
                <div class="popup-right popup-right-vertical">
                    <div class="popup-section">
                        <strong>Description</strong>
                        <div class="description-scroll">
                            <p id="popup-description"></p>
                        </div>
                    </div>

                    <div class="popup-section">
                        <strong>Specific Requirements</strong>
                        <p id="popup-other"></p>
                    </div>

                    <div class="popup-section popup-bottom-buttons">
                        <button title="Download as PDF">
                            <img src="/img/download-file-icon2.svg" alt="Download" />
                        </button>
                    </div>
                </div>
            </div>

            <div class="popup-buttons">
                <button onclick="acceptTask()">Accept</button>
                <button type="button" onclick="showRejectConfirm()">Reject</button>
            </div>
        </div>
    </div>
</main>

<!-- Reject Confirmation Overlay -->
<div id="popupOverlay2" class="popup-overlay hidden">
    <!-- Confirm Popup -->
    <div id="popupContainer2" class="popup-confirm">
        <p id="popupMessage"></p>
        <button id="acceptBtn">Continue</button>
        <button id="rejectBtn">Return</button>
    </div>
</div>

<!-- Accept Name Input Overlay -->
<div id="acceptOverlay" class="popup-overlay hidden">
    <div id="acceptContainer" class="popup-confirm">
        <p>Please enter your information to accept this task:</p>
        <div class ="popup-confirm" style=" margin: 20px auto; width: 320px; display: flex; flex-direction: column; align-items: center;">
            <input type="text" id="firstNameInput" placeholder="First Name" required style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
            <input type="text" id="lastNameInput" placeholder="Last Name" required style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px;">
            <input type="number" id="gpnInput" placeholder="GPN" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
        </div>
        <button id="confirmAcceptBtn" class="accept-taskbtn">Accept Task</button>
        <button id="cancelAcceptBtn" class="cancel-taskbtn">Cancel</button>
    </div>
</div>

<!-- Footer einbinden -->
<div th:replace="~{fragments/footer :: footer}"></div>
<div id="rejectPopup" class="popup-overlay hidden">
    <div class="popup-confirm reject-popup">
        <p>Please enter your information to reject this task:</p>
        <input type="text" id="rejectFirstName" placeholder="First Name">
        <input type="text" id="rejectLastName" placeholder="Last Name">
        <input type="text" id="reasonInput" placeholder="Reason for rejection">
        <div style="margin-top: 12px;">
            <button id="confirmRejectSubmit" class="accept-taskbtn">Reject Task</button>
            <button id="cancelRejectBtn" class="cancel-taskbtn">Cancel</button>
        </div>
    </div>
</div>



</body>
</html>
